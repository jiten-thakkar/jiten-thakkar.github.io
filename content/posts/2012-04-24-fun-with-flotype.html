---
title: Fun with Flotype
date: '2012-04-24T00:34:00.000-07:00'
author: Jiten Thakkar
tags:
- flotype
- android
modified_time: '2012-04-24T00:34:07.799-07:00'
blogger_id: tag:blogger.com,1999:blog-4257776574536372826.post-8275746050318219254
blogger_orig_url: http://netij.blogspot.com/2012/04/fun-with-flotype.html
comments: true
---

<div dir="ltr" style="text-align: left;" trbidi="on">I came across this new start up <a href="http://www.flotype.com/">Flotype</a>&nbsp;through a blog at <a href="http://news.ycombinator.com/">hacker news</a>.<br />It provides <span style="background-color: white; text-align: -webkit-auto;">cross-language services to expose data and realtime updates to client devices and browsers.</span><br /><span style="background-color: white; text-align: -webkit-auto;">They have simple APIs which can be used right away.&nbsp;</span><span style="background-color: white; text-align: -webkit-auto;">&nbsp;</span><span style="background-color: white; text-align: -webkit-auto;">So I created a new account and started playing with the beta version.&nbsp;</span><span style="background-color: white; text-align: -webkit-auto;">My first idea is to setup the server on my laptop and client on my android phone. So whenever server receives the message, it makes a system call for the message. That way I could use my laptops terminal remotely.</span><span style="background-color: white; text-align: -webkit-auto;">&nbsp;Since it's available only in Javascript,Java,Ruby and Python, I chose Java.</span><br /><span style="background-color: white; text-align: -webkit-auto;">First of all I created a server on my laptop:</span><br /><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;"> import com.flotype.bridge.*;  <br /> class ChatObj implements BridgeObject {  <br />   public void message(String sender, String message) {  <br />     System.out.println(sender + ":" + message);  <br />     Process execAcrobatPrs=null;  <br />     try{  <br />       execAcrobatPrs = Runtime.getRuntime().exec(new String[]{"sh", "-c",message});  <br />    }  <br />    catch(Exception ex)  <br />    {  <br />              System.out.println(ex);  <br />       if(execAcrobatPrs!=null)  <br />       {  <br />          execAcrobatPrs.destroy();  <br />       }  <br />       ex.printStackTrace();  <br />       System.exit(-1);  <br />    }  <br />   }  <br /> }  <br /> public class AuthServer {  <br />   public static void main(String[] args) throws Exception {  <br />     Bridge bridge = new Bridge()  <br />     .setApiKey("myprivatekey");  <br />     bridge.joinChannel("channel-name", new ChatObj());  <br />     bridge.connect();  <br />   }  <br /> }  <br /></code></pre><span style="background-color: white; text-align: -webkit-auto;">and the client for android:</span><br /><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;"> package com.jiten;  <br /> import java.io.IOException;  <br /> import com.flotype.bridge.*;  <br /> import android.app.Activity;  <br /> import android.os.Bundle;  <br /> import android.util.Log;  <br /> import android.view.View;  <br /> import android.view.View.OnClickListener;  <br /> import android.widget.Button;  <br /> import android.widget.EditText;  <br /> interface RemoteChat extends BridgeRemoteObject {  <br />   public void message(String sender, String message);  <br /> }  <br /> public class MessageSenderActivity extends Activity implements OnClickListener{  <br />   /** Called when the activity is first created. */  <br />   @Override  <br />   public void onCreate(Bundle savedInstanceState) {  <br />     super.onCreate(savedInstanceState);  <br />     setContentView(R.layout.main);  <br />     Button b = (Button) findViewById(R.id.button1);  <br />     b.setOnClickListener((android.view.View.OnClickListener) this);  <br />   }  <br />      @Override  <br />      public void onClick(View arg0) {  <br />           if(arg0.getId() == R.id.button1) {  <br />                EditText t = (EditText) findViewById(R.id.editText1);  <br />                Bridge bridge = new Bridge().setApiKey("myprivatekey");  <br />          RemoteChat channel = bridge.getChannel("channel-name", RemoteChat.class);  <br />          channel.message("Jiten", t.getText().toString());  <br />          try {  <br />                     bridge.connect();  <br />                } catch (IOException e) {  <br />                     // TODO Auto-generated catch block  <br />                     e.printStackTrace();  <br />                }  <br />           }  <br />      }  <br /> }  <br /></code></pre><span style="background-color: white; text-align: -webkit-auto;"><br /></span><br /><div style="text-align: -webkit-auto;">That's it. Now I can run any terminal command from my laptop through my android phone.<br />This still is not interactive so it's of no use for commands like 'ls' but you can run applications in which you don't need interaction.<br />Well, I can't think of any important use for this but it was fun starting 'Catalyst' in my laptop through a command in my mobile phone. In future I might improve it for interactivity.&nbsp;</div><span style="background-color: white; text-align: -webkit-auto;"><br /></span><br /><span style="background-color: white; text-align: -webkit-auto;"><br /></span></div>
